// Decompiled with JetBrains decompiler
// Type: Chaosity.Exploit
// Assembly: Chaosity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 8FD1C12D-B5CF-4C0B-B451-47DE735C992C
// Assembly location: C:\Users\povar\Desktop\Chaosity (Exploit)\ChaosityExploit.exe

using System;
using System.Threading;
using System.Windows.Forms;

namespace Chaosity
{
  internal class Exploit
  {
    public static string exploitdllname = "Chaosity.dll";
    public static OpenFileDialog openfiledialog;

    public static void Attach()
    {
      if (NamedPipes.NamedPipeExist(NamedPipes.luapipename))
      {
        int num1 = (int) MessageBox.Show("Already injected!", "Error", MessageBoxButtons.OK, MessageBoxIcon.Asterisk);
      }
      else
      {
        if (NamedPipes.NamedPipeExist(NamedPipes.luapipename))
          return;
        switch (Injector.DllInjector.GetInstance.Inject("RobloxPlayerBeta", AppDomain.CurrentDomain.BaseDirectory + Exploit.exploitdllname))
        {
          case Injector.DllInjectionResult.DllNotFound:
            int num2 = (int) MessageBox.Show("Couldn't find " + Exploit.exploitdllname, "Dll was not found!", MessageBoxButtons.OK, MessageBoxIcon.Hand);
            break;
          case Injector.DllInjectionResult.GameProcessNotFound:
            int num3 = (int) MessageBox.Show("Couldn't find RobloxPlayerBeta.exe!", "Target process was not found!", MessageBoxButtons.OK, MessageBoxIcon.Hand);
            break;
          case Injector.DllInjectionResult.InjectionFailed:
            int num4 = (int) MessageBox.Show("Injection Failed!", "Error!", MessageBoxButtons.OK, MessageBoxIcon.Hand);
            break;
          default:
            Thread.Sleep(3000);
            break;
        }
      }
    }

    static Exploit()
    {
      OpenFileDialog openFileDialog = new OpenFileDialog();
      openFileDialog.Filter = "Lua Script Txt (*.txt)|*.txt|All files (*.*)|*.*";
      openFileDialog.FilterIndex = 1;
      openFileDialog.RestoreDirectory = true;
      openFileDialog.Title = "Load Script";
      Exploit.openfiledialog = openFileDialog;
    }
  }
}
